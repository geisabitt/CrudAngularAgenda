<form
  *ngIf="contactForm"
  [formGroup]="contactForm"
  (ngSubmit)="registerContact()"
>
  <label for="name">Nome:</label>
  <input type="text" id="name" formControlName="name" />
  <div
    *ngIf="
      contactForm.get('name')?.invalid &&
      (contactForm.get('name')?.dirty || contactForm.get('name')?.touched)
    "
  >
    <div *ngIf="contactForm.get('name')?.hasError('required')">
      Campo obrigatório.
    </div>
    <div *ngIf="contactForm.get('name')?.hasError('minlength')">
      Nome deve ter no mínimo 6 caracteres.
    </div>
    <div *ngIf="contactForm.get('name')?.hasError('maxlength')">
      Nome deve ter no máximo 150 caracteres.
    </div>
  </div>

  <label for="email">E-mail:</label>
  <input type="email" id="email" formControlName="email" />
  <div
    *ngIf="
      contactForm.get('email')?.invalid &&
      (contactForm.get('email')?.dirty || contactForm.get('email')?.touched)
    "
  >
    <div *ngIf="contactForm.get('email')?.hasError('required')">
      Campo obrigatório.
    </div>
    <div *ngIf="contactForm.get('email')?.hasError('email')">
      E-mail inválido.
    </div>
  </div>

  <label for="cpf">CPF:</label>
  <input type="text" id="cpf" formControlName="cpf" />
  <div
    *ngIf="
      contactForm.get('cpf')?.invalid &&
      (contactForm.get('cpf')?.dirty || contactForm.get('cpf')?.touched)
    "
  >
    <div *ngIf="contactForm.get('cpf')?.hasError('required')">
      Campo obrigatório.
    </div>
    <div *ngIf="contactForm.get('cpf')?.hasError('pattern')">
      CPF inválido. Deve ter 11 dígitos.
    </div>
  </div>

  <label for="date_born">Data de Nascimento:</label>
  <input type="date" id="date_born" formControlName="date_born" />
  <div
    *ngIf="
      contactForm.get('date_born')?.invalid &&
      (contactForm.get('date_born')?.dirty ||
        contactForm.get('date_born')?.touched)
    "
  >
    <div *ngIf="contactForm.get('date_born')?.hasError('required')">
      Campo obrigatório.
    </div>
  </div>
  <div formArrayName="numbers">
    <div *ngFor="let number of phoneNumbers.controls; let i = index">
      <input type="text" [formControlName]="i" [required]="true" />
      <button type="button" (click)="removePhoneNumber(i)">Remover</button>
    </div>
    <button type="button" (click)="addPhoneNumber()">Adicionar Número</button>
  </div>
  <button type="submit" [disabled]="contactForm.invalid">
    Registrar Contato
  </button>
</form>
